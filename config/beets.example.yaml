# Beets configuration with recommended plugins
# Place this file at: ./config/beets.yaml to customize

directory: /music
library: /config/beets.db

# Enable plugins
plugins: lyrics fetchart embedart lastgenre replaygain chroma duplicates missing

import:
  move: yes           # Move files to library directory
  write: yes          # Write metadata to files
  autotag: yes        # Auto-tag from MusicBrainz
  quiet_fallback: skip  # Skip albums with no match

# Lyrics Plugin - fetch song lyrics
lyrics:
  auto: yes           # Fetch lyrics during import
  fallback: ''        # Clear lyrics if not found
  force: no           # Don't re-fetch existing lyrics
  sources: lrclib google genius tekstowo

# FetchArt Plugin - download album art
fetchart:
  auto: yes           # Fetch art during import
  sources: coverart itunes amazon albumart spotify
  minwidth: 500       # Minimum image width
  maxwidth: 0         # No maximum (get highest quality)
  enforce_ratio: no   # Allow non-square images

# EmbedArt Plugin - embed art into files
embedart:
  auto: yes           # Embed art during import
  remove_art_file: yes  # Delete art file after embedding
  maxwidth: 1000      # Resize large images

# LastGenre Plugin - fetch genres from Last.fm
lastgenre:
  auto: yes           # Fetch genres during import
  force: no           # Don't override existing genres
  min_weight: 10      # Minimum tag weight
  count: 3            # Max number of genres

# ReplayGain Plugin - normalize volume
replaygain:
  auto: yes           # Calculate on import
  backend: ffmpeg     # Use ffmpeg (included)
  overwrite: no       # Don't recalculate existing
  albumgain: yes      # Calculate album gain
  targetlevel: 89     # Target level in dB

# Chroma Plugin - acoustic fingerprinting
chroma:
  auto: yes           # Fingerprint during import

# Path format (how files are organized)
paths:
  default: $albumartist/$album%aunique{}/$track $title
  singleton: Non-Album/$artist/$title
  comp: Compilations/$album%aunique{}/$track $title

# Replace problematic characters in filenames
replace:
  '[\\/]': _
  '^\.': _
  '[\x00-\x1f]': _
  '[<>:"\?\*\|]': _
  '\.$': _
  '\s+$': ''
  '^\s+': ''
